# 分库分表--水平分割设备表
背景：<br>
设备表达到了亿级别，在做很多操作都比较吃力。所以，考虑对其进行分库分表.<br>
之前已经对本设备表做过一次分表操作，但并未分库，将其分割为20个表，表名为: player_devices{1..20}<br>
本次需将这20个表再次进行分割，分割为10个库，1000张表<br>

## 常用的切分方案
附上原文链接：https://blog.csdn.net/mingover/article/details/71108852<br>
数据的切分（Sharding）根据其切分规则的类型，可以分为两种切分模式。<br>
<br>
1) 数据的垂直（纵向）切分<br>
按照不同的表（或者Schema）来切分到不同的数据库（主机）之上，这种切可以称之为数据的垂直（纵向）切分.<br>
2) 数据的水平（横向）切分<br>
根据表中的数据的逻辑关系，将同一个表中的数据按照某种条件拆分到多台数据库（主机）上面，这种切分称之为数据的水平（横向）切分.<br>
相对于垂直拆分，水平拆分不是将表做分类，而是按照某个字段的某种规则来分散到多个库之中，每个表中包含一部分数据。简单来说，我们可以将数据的水平切分理解为是按照数据行的切分，就是将表中的某些行切分到一个数据库，而另外的某些行又切分到其他的数据库。<br>

几种典型的分片规则包括： <br>
 按照用户 ID 求模，将数据分散到不同的数据库，具有相同数据用户的数据都被分散到一个库中。 <br>
 按照日期，将不同月甚至日的数据分散到不同的库中。 <br>
 按照某个特定的字段求摸，或者根据特定范围段分散到不同的库中。 <br>
 
### 本次设备表分割采用水平分割方式
以设备表中的new_udid来求模
具体请看代码中实现
